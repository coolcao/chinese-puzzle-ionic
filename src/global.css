@tailwind base;
@tailwind components;
@tailwind utilities;

/* FontAwesome Icons */
@import "@fortawesome/fontawesome-free/css/all.css";
/* Core CSS required for Ionic components to work properly */
@import "@ionic/angular/css/core.css";

/* Basic CSS for apps built with Ionic */
@import "@ionic/angular/css/normalize.css";
@import "@ionic/angular/css/structure.css";
@import "@ionic/angular/css/typography.css";
@import "@ionic/angular/css/display.css";

/* Optional CSS utils that can be commented out */
@import "@ionic/angular/css/padding.css";
@import "@ionic/angular/css/float-elements.css";
@import "@ionic/angular/css/text-alignment.css";
@import "@ionic/angular/css/text-transformation.css";
@import "@ionic/angular/css/flex-utils.css";

/**
 * Ionic Dark Mode
 * -----------------------------------------------------
 * For more info, please see:
 * https://ionicframework.com/docs/theming/dark-mode
 */

/* @import "@ionic/angular/css/palettes/dark.always.css"; */
/* @import "@ionic/angular/css/palettes/dark.class.css"; */
@import "@ionic/angular/css/palettes/dark.system.css";

.toast {
  margin-top: 56px;
  text-align: center;
  opacity: 0.8;
}

/* ===== 移动端触摸优化 ===== */

/* 通用触摸优化 */
* {
  /* 移除iOS上的点击高亮 */
  -webkit-tap-highlight-color: transparent;
}

/* 防止页面意外缩放 - 修复平板问题 */
html,
body {
  /* 防止双击缩放 */
  touch-action: pan-x pan-y;
  /* 确保页面不会溢出导致缩放 */
  overflow-x: hidden;
  /* 防止用户选择文本时触发缩放 */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* 只对交互元素应用触摸优化 */
button,
[role="button"],
.btn,
.cursor-pointer,
[appClickSound],
ion-button,
.tab-button,
[class*="tab"],
input,
textarea,
select {
  /* 优化触摸延迟，但不影响页面缩放 */
  touch-action: manipulation;
}

/* 移动端：增强按钮的触摸反馈 - 修复平板缩放问题 */
@media (hover: none) and (pointer: coarse) {

  /* 只对真正的按钮元素应用触摸反馈，避免过度影响 */
  button:active {
    transform: scale(0.98);
    transition: transform 0.05s ease-out;
    filter: brightness(0.95);
  }

  /* Ionic按钮特殊处理 */
  ion-button:active {
    transform: scale(0.98);
    filter: brightness(0.95);
  }

  /* 移除可能导致问题的广泛选择器，改为更具体的目标 */
  /* 注意：移除了 [appClickSound]:active 和 .cursor-pointer:active 等可能导致问题的规则 */
}